<h1>Listing Appointments</h1>

<table class = 'table table-hover table-striped'>
  <tr>
    <th>
      Customer
    </th>
    <th>
      Staff
    </th>
    <th>
      Service
    </th>
    <th>
      Time
    </th>
    <th>
      Duration
    </th>
    <th>
      Date
    </th>
    <th>
      State
    </th>
    <th>
      Remarks
    </th>
  </tr>
  <% @appointments.each do |appointment| %>
    <tr class='appointment date_filtered state_filtered <%= appointment.state %>' data-date='<%= appointment.start_at.to_date %>'> 
      <td>
        <%= appointment.customer.name.titleize %>
      </td>
      <td>
        <%= appointment.staff.name.titleize %>
      </td>
      <td>
        <%= appointment.service.name.titleize %>
      </td>
      <td>
        <%= appointment.start_at.strftime("%I:%M %p") %>
      </td>
      <td>
        <%= "#{ appointment.duration } minutes" %>
      </td>
      <td>
        <%= appointment.start_at.strftime("%d %b %Y") %>
      </td>
      <td>
        <%= appointment.state %>
      </td>
      <td>
        <%= appointment.remarks.try(:capitalize) %>
      </td>
    </tr>
  <% end %>
</table>
<%= paginate @appointments, remote: true %>
<br />
